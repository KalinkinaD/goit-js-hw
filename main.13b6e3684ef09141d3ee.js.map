{"version":3,"sources":["webpack:///./script/apiService.js","webpack:///./index.js","webpack:///./templates/image-card.hbs"],"names":["imgService","text","page","fetch","method","headers","Accept","then","response","ok","json","inputText","document","querySelector","loadBtn","result","addEventListener","async","value","insertAdjacentHTML","imgCard","hits","window","scrollTo","top","scrollY","screen","height","scrollHeight","left","behavior","debounce","innerHTML","length","style","display","event","keyCode","preventDefault","Handlebars","module","exports","template","container","depth0","helpers","partials","data","blockParams","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop"],"mappings":"mIAAe,SAASA,EAAWC,EAAMC,EAAO,GAC9C,OAAOC,MACJ,sEAAqEF,UAAaC,uDACnF,CACEE,OAAQ,MACRC,QAAS,CACPC,OAAQ,sBAGZC,KAAKC,KACDA,EAASC,IACJD,EAASE,Q,8CCLtB,MAAMC,EAAYC,SAASC,cAAc,eACnCC,EAAUF,SAASC,cAAc,gBAEvC,IACIE,EADAb,EAAO,EA+BXY,EAAQE,iBAAiB,QAbRC,UACff,IACA,IAAIa,QAAef,EAAWW,EAAUO,MAAOhB,GAC/CU,SACGC,cAAc,eACdM,mBAAmB,YAAaC,IAAQL,EAAOM,OAClDC,OAAOC,SAAS,CACdC,IAAKF,OAAOG,QAAUH,OAAOI,OAAOC,OAASb,EAAQc,aACrDC,KAAM,EACNC,SAAU,aAKdnB,EAAUK,iBAAiB,QAASe,IA9BvBd,UACXf,EAAO,EACHS,EAAUO,OACZH,QAAef,EAAWW,EAAUO,MAAOhB,GAC3CU,SAASC,cAAc,eAAemB,UAAYZ,IAAQL,EAAOM,MAC7DN,EAAOM,KAAKY,OAAS,EACvBnB,EAAQoB,MAAMC,QAAU,QAExBrB,EAAQoB,MAAMC,QAAU,SAG1BvB,SAASC,cAAc,eAAemB,UAAY,GAClDlB,EAAQoB,MAAMC,QAAU,SAkByB,MAErDb,OAAON,iBAAiB,WAAYoB,IACb,IAAjBA,EAAMC,SACRD,EAAME,oB,qBC7CV,IAAIC,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,EAAKC,GACjH,IAAIC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiBX,EAAUW,gBAAkB,SAASC,EAAQC,GAClI,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,kGACHJ,EAAOF,EAAwC,OAA/BD,EAASD,EAAY,GAAG,IAAcM,EAAeL,EAAO,gBAAkBA,EAASL,IACvG,0KACAQ,EAAOF,EAAwC,OAA/BD,EAASD,EAAY,GAAG,IAAcM,EAAeL,EAAO,SAAWA,EAASL,IAChG,6IACAQ,EAAOF,EAAwC,OAA/BD,EAASD,EAAY,GAAG,IAAcM,EAAeL,EAAO,SAAWA,EAASL,IAChG,0IACAQ,EAAOF,EAAwC,OAA/BD,EAASD,EAAY,GAAG,IAAcM,EAAeL,EAAO,YAAcA,EAASL,IACnG,iJACAQ,EAAOF,EAAwC,OAA/BD,EAASD,EAAY,GAAG,IAAcM,EAAeL,EAAO,aAAeA,EAASL,IACpG,qEACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,EAAKC,GAC/E,IAAIC,EAON,OAAsU,OAA7TA,GAPsBN,EAAUW,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWX,EAAQ,QAAQe,KAAe,MAAVhB,EAAiBA,EAAUD,EAAUkB,aAAe,GAAIjB,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUmB,QAAQ,EAAGf,EAAM,EAAGC,GAAa,QAAUL,EAAUoB,KAAK,KAAOhB,EAAK,YAAcC,EAAY,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBC,EAAS,IACtV,SAAU,EAAK,gBAAiB,M","file":"main.13b6e3684ef09141d3ee.js","sourcesContent":["export default function imgService(text, page = 1) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${text}&page=${page}&per_page=12&key=17307433-b3b18b1a01ee5cc066151defb`,\r\n    {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n    },\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    } else {\r\n      return false;\r\n    }\r\n  });\r\n}\r\n","import './styles.css';\r\nimport imgService from './script/apiService';\r\nimport imgCard from './templates/image-card.hbs';\r\nimport debounce from 'lodash.debounce';\r\n// import '../node_modules/@pnotify/core/dist/BrightTheme.css';\r\n\r\nconst inputText = document.querySelector('.input_text');\r\nconst loadBtn = document.querySelector('.load_button');\r\n\r\nlet page = 1;\r\nlet result;\r\nlet search = async () => {\r\n  page = 1;\r\n  if (inputText.value) {\r\n    result = await imgService(inputText.value, page);\r\n    document.querySelector('.image_list').innerHTML = imgCard(result.hits);\r\n    if (result.hits.length > 0) {\r\n      loadBtn.style.display = 'block';\r\n    } else {\r\n      loadBtn.style.display = 'none';\r\n    }\r\n  } else {\r\n    document.querySelector('.image_list').innerHTML = '';\r\n    loadBtn.style.display = 'none';\r\n  }\r\n};\r\n\r\nconst loadMore = async () => {\r\n  page++;\r\n  let result = await imgService(inputText.value, page);\r\n  document\r\n    .querySelector('.image_list')\r\n    .insertAdjacentHTML('beforeend', imgCard(result.hits));\r\n  window.scrollTo({\r\n    top: window.scrollY + window.screen.height - loadBtn.scrollHeight,\r\n    left: 0,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nloadBtn.addEventListener('click', loadMore);\r\ninputText.addEventListener('input', debounce(search, 500));\r\n\r\nwindow.addEventListener('keypress', event => {\r\n  if (event.keyCode == 13) {\r\n    event.preventDefault();\r\n  }\r\n});\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data,blockParams) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"image-list__item\\\">\\r\\n    <div class=\\\"photo-card\\\">\\r\\n        <img class=\\\"img\\\" src=\\\"\"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? lookupProperty(stack1,\"webformatURL\") : stack1), depth0))\n    + \"\\\" alt=\\\"photo\\\" />\\r\\n\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                \"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? lookupProperty(stack1,\"likes\") : stack1), depth0))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility</i>\\r\\n                \"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? lookupProperty(stack1,\"views\") : stack1), depth0))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment</i>\\r\\n                \"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? lookupProperty(stack1,\"comments\") : stack1), depth0))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                \"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? lookupProperty(stack1,\"downloads\") : stack1), depth0))\n    + \"\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 1, blockParams),\"inverse\":container.noop,\"data\":data,\"blockParams\":blockParams,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true,\"useBlockParams\":true});"],"sourceRoot":""}