{"version":3,"sources":["webpack:///./index.js","webpack:///./fetchCountries.js","webpack:///./templates/countries.hbs","webpack:///./templates/country.hbs"],"names":["document","querySelector","addEventListener","event","preventDefault","inputText","search","value","searchQuery","fetch","method","headers","Accept","then","response","ok","json","catch","result","innerHTML","length","showError","country","countryList","text","error","closer","sticker","destroy","delay","debounce","Handlebars","module","exports","template","container","depth0","helpers","partials","data","blockParams","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","nullContext","program","noop","alias1","alias2"],"mappings":"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","file":"main.6905d33206d5dfd633d4.js","sourcesContent":["import './styles.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { error } from '@pnotify/core';\r\nimport fetchCountries from './fetchCountries.js';\r\nimport debounce from 'lodash.debounce';\r\nimport countryList from './templates/countries.hbs';\r\nimport country from './templates/country.hbs';\r\n\r\nconst searchForm = document.querySelector('#search');\r\nsearchForm.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n});\r\nlet inputText = document.querySelector('.input_text');\r\n\r\nlet search = async () => {\r\n  if (inputText.value === '') {\r\n    return;\r\n  }\r\n  let result = await fetchCountries(inputText.value);\r\n  document.querySelector('.js-result').innerHTML = '';\r\n  if (!result) {\r\n    showError('No Countries Found');\r\n  } else if (result.length > 10) {\r\n    showError('Too many matches found. Please enter a more specific query!');\r\n  } else if (result.length === 1) {\r\n    // выводим темплейт с одной страной\r\n    document.querySelector('.js-result').innerHTML = country(result[0]);\r\n  } else {\r\n    //выводим список стран\r\n    document.querySelector('.js-result').innerHTML = countryList(result);\r\n  }\r\n};\r\nconst showError = text => {\r\n  error({\r\n    text: text,\r\n    closer: false,\r\n    sticker: false,\r\n    destroy: true,\r\n    delay: 500,\r\n  });\r\n};\r\ninputText.addEventListener('input', debounce(search, 500));\r\n// window.addEventListener('keypress', event => {\r\n//   if (event.keyCode == 13) {\r\n//     event.preventDefault();\r\n//   }\r\n// });\r\n","export default function fetchCountries(searchQuery) {\r\n  return fetch(`https://restcountries.eu/rest/v2/name/${searchQuery}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        return false;\r\n      }\r\n    })\r\n    .catch(() => {\r\n      return false;\r\n    });\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data,blockParams) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"countries-list__item\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = blockParams[0][0]) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries_list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 1, blockParams),\"inverse\":container.noop,\"data\":data,\"blockParams\":blockParams,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":4,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true,\"useBlockParams\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data,blockParams) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li class=\\\"country_list--item\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = blockParams[0][0]) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"country_wrapper\\\">\\r\\n    <h2 class=\\\"country_name\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h2>\\r\\n    <p class=\\\"country_capital\\\">Capital: <span class=\\\"country_capital--text\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"capital\") : depth0), depth0))\n    + \"</span></p>\\r\\n    <p class=\\\"country_population\\\">Population: <span class=\\\"country_population--text\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"population\") : depth0), depth0))\n    + \"</span></p>\\r\\n    <p class=\\\"country_list\\\">Languages:</p>\\r\\n    <ul>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 1, blockParams),\"inverse\":container.noop,\"data\":data,\"blockParams\":blockParams,\"loc\":{\"start\":{\"line\":7,\"column\":8},\"end\":{\"line\":9,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n</div>\\r\\n<div class=\\\"wrapper_img\\\">\\r\\n    <img class=\\\"country_flag\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \"\\\" alt=\\\"flag\\\"></div>\";\n},\"useData\":true,\"useBlockParams\":true});"],"sourceRoot":""}